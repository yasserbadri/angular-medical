<div class="doctor-profile-container">
  <!-- Loading State -->
  <div *ngIf="loading" class="loading-state">
    <div class="spinner"></div>
    <p>Chargement des profils des médecins...</p>
  </div>

  <!-- Error State -->
  <div *ngIf="error" class="error-state">
    <div class="error-icon">!</div>
    <p>{{ error }}</p>
    <button class="retry-btn" (click)="loadDoctors()">Réessayer</button>
  </div>

  <!-- Doctor Profile -->
  <div *ngIf="doctors.length > 0 && !loading" class="doctor-profile-wrapper">
    <div class="doctor-card">
      <div class="doctor-header">
        <div class="doctor-avatar">
          <img [src]="'http://localhost:5278'+currentDoctor.photo" 
               [alt]="'Photo de ' + currentDoctor.name"
               class="avatar-img">
        </div>
        
        <div class="doctor-info">
          <h2>{{ currentDoctor.name }}</h2>
          <div class="specialty-badge">{{ currentDoctor.specialty }}</div>
          
          <div class="rating-container">
            <span class="stars">★★★★★</span>
            <span class="rating-text">{{ currentDoctor.rating }} ({{ currentDoctor.reviewsCount }} avis)</span>
          </div>

          <div class="education-info">
            <p class="degree">{{ currentDoctor.degree }}</p>
            <p class="university">{{ currentDoctor.university }}</p>
          </div>
        </div>
      </div>

      <div class="action-buttons">
        <button class="action-btn whatsapp" 
                (click)="contactViaWhatsApp(currentDoctor.contactInfo.whatsapp)"
                [disabled]="!currentDoctor.contactInfo.whatsapp">
          <i class="bi bi-whatsapp"></i> WhatsApp
        </button>
        <button class="action-btn call" 
                (click)="contactViaPhone(currentDoctor.contactInfo.phone)"
                [disabled]="!currentDoctor.contactInfo.phone">
          <i class="bi bi-telephone"></i> Appel
        </button>
        <button class="action-btn email" 
                (click)="contactViaEmail(currentDoctor.contactInfo.email)"
                [disabled]="!currentDoctor.contactInfo.email">
          <i class="bi bi-envelope"></i> Email
        </button>
      </div>
    </div>

    <!-- Navigation Buttons -->
    <div class="navigation-buttons">
      <button class="nav-btn prev" (click)="prevDoctor()" [disabled]="doctors.length <= 1">
        <i class="bi bi-chevron-left"></i> Précédent
      </button>
      <span class="doctor-counter">
        {{ currentIndex + 1 }} / {{ doctors.length }}
      </span>
      <button class="nav-btn next" (click)="nextDoctor()" [disabled]="doctors.length <= 1">
        Suivant <i class="bi bi-chevron-right"></i>
      </button>
    </div>
  </div>

  <!-- No Doctors Found -->
  <div *ngIf="doctors.length === 0 && !loading && !error" class="no-doctors">
    <p>Aucun médecin trouvé.</p>
  </div>
</div>